{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\edgar\\\\Documents\\\\map-manado\\\\src\\\\components\\\\Occupation.js\";\nimport React, { Component } from 'react';\nimport { Card, CardBody, Table, Row, Col } from 'reactstrap';\nimport { HorizontalBar } from 'react-chartjs-2';\nimport axios from 'axios';\nexport default class Education extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: [{\n        a: 0,\n        b: 0\n      }],\n      dataset: {\n        labels: [],\n        datasets: [{\n          backgroundColor: 'rgba(255, 99, 132, 0.2)',\n          borderColor: 'rgba(255, 99, 132, 0.7)',\n          borderWidth: 1,\n          data: [0, 0]\n        }]\n      },\n      options: {\n        legend: {\n          display: false\n        }\n      }\n    };\n\n    this.componentDidMount = () => {\n      this.ping();\n    };\n\n    this.ping = () => {\n      axios.get('http://10.71.71.24:8080/api/index.php/citizens/ping').then(resp => {\n        console.log(resp);\n        this.getGenders();\n      });\n    };\n\n    this.getGenders = () => {\n      const _this$props = this.props,\n            type = _this$props.type,\n            data = _this$props.data;\n      const params = {\n        region: this.props.type,\n        type: 'pekerjaan'\n      };\n\n      if (type === 'kec') {\n        params.no_kec = data.no_kec;\n      } else if (type === 'kel') {\n        params.no_kec = data.no_kec;\n        params.no_kel = data.no_kel;\n      } else if (type === 'rw') {\n        params.no_kec = data.no_kec;\n        params.no_kel = data.no_kel;\n        params.no_rw = data.no_rw;\n      }\n\n      axios.get('http://10.71.71.24:8080/api/index.php/citizens/statistics', {\n        params\n      }).then(({\n        data\n      }) => {\n        let _this$state$dataset = this.state.dataset,\n            datasets = _this$state$dataset.datasets,\n            labels = _this$state$dataset.labels;\n        datasets[0].data = data.map(g => {\n          return {\n            x: g.TOTAL,\n            y: g.PEKERJAAN\n          };\n        });\n        labels = data.map(g => g.PEKERJAAN);\n        this.setState({\n          data,\n          dataset: {\n            datasets,\n            labels\n          }\n        });\n      });\n    };\n  }\n\n  render() {\n    const _this$state = this.state,\n          data = _this$state.data,\n          dataset = _this$state.dataset,\n          options = _this$state.options;\n    return React.createElement(Card, {\n      className: \"border-0 shadow my-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Row, {\n      noGutters: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(Table, {\n      size: \"sm\",\n      bordered: true,\n      striped: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, Object.keys(data[0]).map((col, i) => React.createElement(\"th\", {\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, col)))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, typeof data !== 'undefined' ? data.map((dat, i) => React.createElement(\"tr\", {\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, Object.keys(dat).map((col, i) => React.createElement(\"td\", {\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, dat[col])))) : ''))), React.createElement(Col, {\n      className: \"h-100\",\n      md: \"8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(CardBody, {\n      className: \"h-100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(HorizontalBar, {\n      options: options,\n      data: dataset,\n      width: \"100%\",\n      height: \"100%\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    })))), React.createElement(CardBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Total data : \", typeof data !== 'undefined' && data.map(d => d.TOTAL).reduce((a, b) => parseInt(a) + parseInt(b), 0)));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/edgar/Documents/map-manado/src/components/Occupation.js"],"names":["React","Component","Card","CardBody","Table","Row","Col","HorizontalBar","axios","Education","state","data","a","b","dataset","labels","datasets","backgroundColor","borderColor","borderWidth","options","legend","display","componentDidMount","ping","get","then","resp","console","log","getGenders","props","type","params","region","no_kec","no_kel","no_rw","map","g","x","TOTAL","y","PEKERJAAN","setState","render","Object","keys","col","i","dat","d","reduce","parseInt"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Card, CardBody, Table, Row, Col } from 'reactstrap';\nimport { HorizontalBar } from 'react-chartjs-2';\nimport axios from 'axios';\n\nexport default class Education extends Component {\n\n  state = {\n    data: [{ a: 0, b: 0 }],\n    dataset: {\n      labels: [],\n      datasets: [{\n        backgroundColor: 'rgba(255, 99, 132, 0.2)',\n        borderColor: 'rgba(255, 99, 132, 0.7)',\n        borderWidth: 1,\n        data: [0, 0],\n      }],\n    },\n    options: {\n      legend: {\n        display: false\n      }\n    }\n  }\n\n  componentDidMount = () => {\n    this.ping();\n  }\n\n  ping = () => {\n    axios.get('http://10.71.71.24:8080/api/index.php/citizens/ping').then(resp => {\n      console.log(resp);\n      this.getGenders();\n    })\n  }\n\n  getGenders = () => {\n    const { type, data } = this.props;\n    const params = {\n      region: this.props.type,\n      type: 'pekerjaan',\n    };\n    if (type === 'kec') {\n      params.no_kec = data.no_kec\n    } else if (type === 'kel') {\n      params.no_kec = data.no_kec\n      params.no_kel = data.no_kel\n    } else if (type === 'rw') {\n      params.no_kec = data.no_kec\n      params.no_kel = data.no_kel\n      params.no_rw = data.no_rw\n    }\n    axios.get('http://10.71.71.24:8080/api/index.php/citizens/statistics', {\n      params\n    }).then(({ data }) => {\n      let { dataset: { datasets, labels } } = this.state;\n      datasets[0].data = data.map(g => {\n        return { x: g.TOTAL, y: g.PEKERJAAN }\n      })\n      labels = data.map(g => (g.PEKERJAAN))\n      this.setState({ data, dataset: { datasets, labels }, });\n    })\n  }\n\n  render() {\n    const { data, dataset,options } = this.state\n    return (\n      <Card className=\"border-0 shadow my-2\">\n        <Row noGutters>\n          <Col md=\"4\">\n            <Table size=\"sm\" bordered striped>\n              <thead>\n                <tr>\n                  {/* {typeof data !== 'undefined' ? data.map((dat) => ( */}\n                  {Object.keys(data[0]).map((col, i) => (\n                    <th key={i}>{col}</th>\n                  ))}\n                  {/* )) : ''} */}\n                </tr>\n              </thead>\n              <tbody>\n                {typeof data !== 'undefined' ? data.map((dat, i) => (\n                  <tr key={i}>\n                    {Object.keys(dat).map((col, i) => (\n                      <td key={i}>{dat[col]}</td>\n                    ))}\n                  </tr>\n                )) : ''}\n              </tbody>\n            </Table>\n          </Col>\n          <Col className=\"h-100\" md=\"8\">\n            <CardBody className=\"h-100\">\n              <HorizontalBar options={options} data={dataset} width='100%' height='100%' />\n            </CardBody>\n          </Col>\n        </Row>\n        <CardBody>\n          Total data : {typeof data !== 'undefined' && data.map(d => d.TOTAL).reduce((a, b) => (parseInt(a) + parseInt(b)), 0)}\n        </CardBody>\n      </Card>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}