{"ast":null,"code":"\"use strict\";\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Subdistrict_1 = require(\"./Subdistrict\");\n\nvar turf = __importStar(require(\"@turf/turf\"));\n/**\r\n * Class District yang menyimpan data kecamatan\r\n * @class District\r\n */\n\n\nvar District =\n/** @class */\nfunction () {\n  /**\r\n   * Membuat instance dari class District\r\n   * @param geoman instance class GeoMan\r\n   * @param rawData data json raw dari backend\r\n   */\n  function District(geoman, rawData) {\n    this.id = rawData.id;\n    this.name = rawData.name;\n    this.properties = rawData.properties;\n    this.created_at = rawData.created_at;\n    this.updated_at = rawData.updated_at;\n    this.bbox = rawData.bbox;\n    this.geoman = geoman;\n  }\n  /**\r\n   * Arahkan map ke kecamatan ini\r\n   */\n\n\n  District.prototype.focus = function () {\n    var _this = this;\n\n    this.geoman.map.fitBounds(this.bbox);\n\n    if (this.geoman.map.getLayer('region-lay')) {\n      this.geoman.map.removeLayer('region-lay');\n      this.geoman.map.removeSource('region-lay');\n    }\n\n    return this.getShape().then(function (shape) {\n      var earth = turf.polygon([[[-180, -90], [-180, 90], [180, 90], [180, -90], [-180, -90]]]);\n      var lay = turf.difference(earth, shape);\n\n      _this.geoman.map.addLayer({\n        id: 'region-lay',\n        type: 'fill',\n        source: {\n          type: 'geojson',\n          data: lay\n        },\n        paint: {\n          'fill-color': 'rgba(0,0,0,.6)'\n        }\n      });\n    });\n  };\n  /**\r\n   * Ambil daftar kelurahan dibawah kecamatan ini\r\n   */\n\n\n  District.prototype.getSubdistricts = function () {\n    var _this = this;\n\n    return this.geoman.http.get(\"/maps/districts/\" + this.id + \"/subdistricts\").then(function (data) {\n      return data.map(function (r) {\n        return new Subdistrict_1.Subdistrict(_this.geoman, _this, r);\n      });\n    });\n  };\n  /**\r\n   * Ambil bentuk (geometry) dari kecamatan ini\r\n   */\n\n\n  District.prototype.getShape = function () {\n    return this.geoman.http.get(\"/maps/districts/\" + this.id).then(function (data) {\n      return data.geometry;\n    });\n  };\n\n  return District;\n}();\n\nexports.District = District;","map":{"version":3,"sources":["../../src/classes/District.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result[\"default\"] = mod;\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Subdistrict_1 = require(\"./Subdistrict\");\r\nvar turf = __importStar(require(\"@turf/turf\"));\r\n/**\r\n * Class District yang menyimpan data kecamatan\r\n * @class District\r\n */\r\nvar District = /** @class */ (function () {\r\n    /**\r\n     * Membuat instance dari class District\r\n     * @param geoman instance class GeoMan\r\n     * @param rawData data json raw dari backend\r\n     */\r\n    function District(geoman, rawData) {\r\n        this.id = rawData.id;\r\n        this.name = rawData.name;\r\n        this.properties = rawData.properties;\r\n        this.created_at = rawData.created_at;\r\n        this.updated_at = rawData.updated_at;\r\n        this.bbox = rawData.bbox;\r\n        this.geoman = geoman;\r\n    }\r\n    /**\r\n     * Arahkan map ke kecamatan ini\r\n     */\r\n    District.prototype.focus = function () {\r\n        var _this = this;\r\n        this.geoman.map.fitBounds(this.bbox);\r\n        if (this.geoman.map.getLayer('region-lay')) {\r\n            this.geoman.map.removeLayer('region-lay');\r\n            this.geoman.map.removeSource('region-lay');\r\n        }\r\n        return this.getShape().then(function (shape) {\r\n            var earth = turf.polygon([[[-180, -90], [-180, 90], [180, 90], [180, -90], [-180, -90]]]);\r\n            var lay = turf.difference(earth, shape);\r\n            _this.geoman.map.addLayer({\r\n                id: 'region-lay',\r\n                type: 'fill',\r\n                source: {\r\n                    type: 'geojson',\r\n                    data: lay\r\n                },\r\n                paint: {\r\n                    'fill-color': 'rgba(0,0,0,.6)'\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Ambil daftar kelurahan dibawah kecamatan ini\r\n     */\r\n    District.prototype.getSubdistricts = function () {\r\n        var _this = this;\r\n        return this.geoman.http.get(\"/maps/districts/\" + this.id + \"/subdistricts\")\r\n            .then(function (data) {\r\n            return data.map(function (r) { return new Subdistrict_1.Subdistrict(_this.geoman, _this, r); });\r\n        });\r\n    };\r\n    /**\r\n     * Ambil bentuk (geometry) dari kecamatan ini\r\n     */\r\n    District.prototype.getShape = function () {\r\n        return this.geoman.http.get(\"/maps/districts/\" + this.id)\r\n            .then(function (data) { return data.geometry; });\r\n    };\r\n    return District;\r\n}());\r\nexports.District = District;\r\n//# sourceMappingURL=District.js.map"]},"metadata":{},"sourceType":"script"}