{"ast":null,"code":"\"use strict\";\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar Neighbor_1 = require(\"./Neighbor\");\n\nvar turf = __importStar(require(\"@turf/turf\"));\n/**\r\n * Class Subdistrict yang menyimpan data kecamatan\r\n * @class Subdistrict\r\n */\n\n\nvar Subdistrict =\n/** @class */\nfunction () {\n  /**\r\n   * Membuat instance dari class Subdistrict\r\n   * @param geoman instance class GeoMan\r\n   * @param rawData data json raw dari backend\r\n   */\n  function Subdistrict(geoman, district, rawData) {\n    this.id = rawData.id;\n    this.name = rawData.name;\n    this.properties = rawData.properties;\n    this.created_at = rawData.created_at;\n    this.updated_at = rawData.updated_at;\n    this.district_id = rawData.district_id;\n    this.bbox = rawData.bbox;\n    this.district = district;\n    this.geoman = geoman;\n  }\n  /**\r\n   * Arahkan map ke kelurahan ini\r\n   */\n\n\n  Subdistrict.prototype.focus = function () {\n    var _this = this;\n\n    this.geoman.map.fitBounds(this.bbox);\n\n    if (this.geoman.map.getLayer('region-lay')) {\n      this.geoman.map.removeLayer('region-lay');\n      this.geoman.map.removeSource('region-lay');\n    }\n\n    return this.getShape().then(function (shape) {\n      var earth = turf.polygon([[[-180, -90], [-180, 90], [180, 90], [180, -90], [-180, -90]]]);\n      var lay = turf.difference(earth, shape);\n\n      _this.geoman.map.addLayer({\n        id: 'region-lay',\n        type: 'fill',\n        source: {\n          type: 'geojson',\n          data: lay\n        },\n        paint: {\n          'fill-color': 'rgba(0,0,0,.6)'\n        }\n      });\n    });\n  };\n  /**\r\n   * Ambil daftar lingkungan di kelurahan ini\r\n   */\n\n\n  Subdistrict.prototype.getNeighbors = function () {\n    var _this = this;\n\n    return this.geoman.http.get(\"/maps/districts/\" + this.district.id + \"/subdistricts/\" + this.id + \"/neighbors\").then(function (data) {\n      return data.map(function (r) {\n        return new Neighbor_1.Neighbor(_this.geoman, _this.district, _this, r);\n      });\n    });\n  };\n  /**\r\n   * Ambil bentuk (geometry) dari kelurahan ini\r\n   */\n\n\n  Subdistrict.prototype.getShape = function () {\n    return this.geoman.http.get(\"/maps/districts/\" + this.district.id + \"/subdistricts/\" + this.id).then(function (data) {\n      return data.geometry;\n    });\n  };\n\n  return Subdistrict;\n}();\n\nexports.Subdistrict = Subdistrict;","map":null,"metadata":{},"sourceType":"script"}