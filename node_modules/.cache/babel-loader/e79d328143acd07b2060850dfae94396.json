{"ast":null,"code":"var _jsxFileName = \"/Users/andrewyohanes/Documents/map-manado/src/App.js\";\nimport React, { Component } from 'react';\nimport { Row, Col, Container, Card, CardBody, Button } from 'reactstrap';\nimport ModalWindow from './components/Modal';\nimport GeoMan from 'geoman-client';\nimport axios from 'axios';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport BasemapToggle from './components/BasemapToggle';\nimport FloatWindow from './components/FloatWindow';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      geo: {},\n      basemaps: [],\n      type: '',\n      data: {},\n      style: 'LIGHT',\n      styles: [],\n      districts: [],\n      subdistricts: [],\n      neighbors: [],\n      district: '',\n      subdistrict: '',\n      neighbor: '',\n      activeBasemaps: [],\n      sidebar: false\n    };\n\n    this.showBaseMap = zoom => {\n      const _this$state = this.state,\n            basemaps = _this$state.basemaps,\n            activeBasemaps = _this$state.activeBasemaps;\n      activeBasemaps.length = 0;\n      basemaps.map(b => {\n        b.setOpacity(0.5);\n\n        if (b.name === 'Bangunan' && zoom > 15) {\n          b.show();\n          if (activeBasemaps.findIndex(x => x === 'Bangunan') === -1) activeBasemaps.push('Bangunan');\n          this.setState({\n            activeBasemaps\n          });\n        } else if (b.name === 'Sungai' && zoom > 14) {\n          b.show();\n          if (activeBasemaps.findIndex(x => x === 'Sungai') === -1) activeBasemaps.push('Sungai');\n          this.setState({\n            activeBasemaps\n          });\n        } else {\n          if (zoom < 16 && zoom > 15) {\n            const a = activeBasemaps.filter(b => b !== 'Bangunan');\n            this.setState({\n              activeBasemaps: a\n            });\n          }\n\n          if (zoom < 14.25 && zoom > 14) {\n            const a = activeBasemaps.filter(b => b !== 'Jalan');\n            this.setState({\n              activeBasemaps: a\n            });\n          }\n\n          if (zoom < 14 && zoom > 13) {\n            const a = activeBasemaps.filter(b => b !== 'Sungai');\n            this.setState({\n              activeBasemaps: a\n            });\n          }\n\n          b.hide();\n        }\n\n        if (b.name === 'Jalan' && zoom > 14.25) {\n          b.show();\n          if (activeBasemaps.findIndex(x => x === 'Jalan') === -1) activeBasemaps.push('Jalan');\n          this.setState({\n            activeBasemaps\n          }); // } else if (zoom > 13 && zoom <= 15 && activeBasemaps.findIndex(x => x === 'Bangunan') > -1) {\n          //   b.hide()\n          //   console.log('bangunan')\n          //   const a = activeBasemaps.filter(b => b !== 'Bangunan');\n          //   this.setState({ activeBasemaps : a });\n          // } else if (zoom > 14 && zoom <= 14.25 && activeBasemaps.findIndex(x => x === 'Sungai') > -1) {\n          //   b.hide()\n          //   console.log('sungai')\n          //   const a = activeBasemaps.filter(b => b !== 'Sungai');\n          //   this.setState({ activeBasemaps : a });\n          // } else if (zoom > 13 && zoom <= 14 && activeBasemaps.findIndex(x => x === 'Jalan') > -1) {\n          //   b.hide()\n          //   console.log('Jalan')\n          //   const a = activeBasemaps.filter(b => b !== 'Jalan');\n          //   this.setState({ activeBasemaps : a });\n        }\n      });\n    };\n\n    this.getDistricts = async () => {\n      const geo = this.state.geo;\n      const districts = await geo.getDistricts();\n      this.setState({\n        districts\n      });\n    };\n\n    this.getSubdistricts = async d => {\n      const subdistricts = await d.getSubdistricts();\n      this.setState({\n        subdistricts\n      });\n    };\n\n    this.getNeighbors = async n => {\n      const neighbors = await n.getNeighbors();\n      this.setState({\n        neighbors\n      });\n    };\n\n    this.ping = () => {\n      axios.get('http://10.71.71.24:8080/api/index.php/citizens/ping').then(resp => {\n        console.log(resp);\n      });\n    };\n\n    this.getBasemaps = async () => {\n      const geo = this.state.geo;\n      const z = geo.map.getZoom();\n      this.showBaseMap(z);\n      const basemaps = await geo.getBasemaps();\n      this.setState({\n        basemaps,\n        activeBasemaps: ['Jalan', 'Sungai']\n      });\n      basemaps.map(b => {\n        if (b.name === 'Jalan' || b.name === 'Sungai') {\n          b.show();\n        }\n\n        b.setOpacity(0.5);\n      });\n      this.getDistricts();\n    };\n\n    this.click = (e, bmap) => {\n      if (e.target.checked) {\n        bmap.show();\n      } else {\n        bmap.hide();\n      }\n\n      bmap.color = 'red';\n    };\n\n    this.clearData = () => {\n      this.setState({\n        type: '',\n        data: {}\n      });\n    };\n  }\n\n  componentDidMount() {\n    let _this$state2 = this.state,\n        geo = _this$state2.geo,\n        styles = _this$state2.styles,\n        style = _this$state2.style; // eslint-disable-next-line no-undef\n\n    geo = new GeoMan('http://10.71.71.71', 8080, {\n      container: 'App',\n      center: [124.842624, 1.4794296],\n      zoom: 15\n    }, GeoMan.Styles[style]);\n    styles = Object.keys(GeoMan.Styles);\n    this.setState({\n      geo,\n      styles\n    }, this.getBasemaps);\n    geo.setRegionLabelEvent('click', 'district', ev => {\n      this.setState({\n        type: 'kec',\n        data: ev.properties\n      });\n    });\n    geo.setRegionLabelEvent('click', 'subdistrict', ev => {\n      this.setState({\n        type: 'kel',\n        data: ev.properties\n      });\n    });\n    geo.setRegionLabelEvent('click', 'neighbor', ev => {\n      this.setState({\n        type: 'rw',\n        data: ev.properties\n      });\n    });\n    geo.map.on('zoom', e => {\n      const zoom = e.target.getZoom();\n      this.showBaseMap(zoom);\n    });\n    this.ping();\n  }\n\n  render() {\n    document.title = \"Manado Map\";\n    const _this$state3 = this.state,\n          district = _this$state3.district,\n          neighbor = _this$state3.neighbor,\n          subdistrict = _this$state3.subdistrict,\n          basemaps = _this$state3.basemaps,\n          activeBasemaps = _this$state3.activeBasemaps;\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(BasemapToggle, {\n      updateBasemaps: activeBasemaps => this.setState({\n        activeBasemaps\n      }),\n      activeBasemaps: activeBasemaps,\n      basemaps: basemaps,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: require('./components/logo.png'),\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      id: \"App\",\n      style: {\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        width: '100vw',\n        height: '100vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), this.state.type.length > 0 && Object.keys(this.state.data).length > 0 && React.createElement(FloatWindow, {\n      onClick: this.clearData,\n      data: this.state.data,\n      type: this.state.type,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }), React.createElement(Container, {\n      fluid: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(Row, {\n      className: \"justify-content-end text-light\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, !this.state.sidebar && React.createElement(Col, {\n      md: \"3\",\n      className: \"text-right p-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"dark\",\n      size: \"sm\",\n      onClick: () => this.setState({\n        sidebar: true\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, \"Sidebar\")), this.state.sidebar && React.createElement(Col, {\n      md: \"3\",\n      className: \"vh-100\",\n      style: {\n        background: 'rgba(0,0,0,0.8)',\n        backdropFilter: 'blur(10px)',\n        overflow: 'auto',\n        height: '100vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"text-left my-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(Button, {\n      size: \"sm\",\n      className: \"rounded p-1 d-block\",\n      onClick: () => this.setState({\n        sidebar: false\n      }),\n      color: \"danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, \"Tutup\")), React.createElement(\"label\", {\n      htmlFor: \"\",\n      className: \"control-label my-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, \"Style Map\"), React.createElement(\"select\", {\n      id: \"\",\n      value: this.state.style,\n      onChange: e => {\n        this.setState({\n          style: e.target.value\n        }, async () => {\n          await this.state.geo.setStyle(GeoMan.Styles[this.state.style]);\n          const z = this.state.geo.map.getZoom();\n          setTimeout(() => this.showBaseMap(z), 500);\n        });\n      },\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, this.state.styles.map((style, i) => React.createElement(\"option\", {\n      key: i,\n      value: style,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, style))), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }), React.createElement(Button, {\n      color: \"light\",\n      size: \"sm\",\n      onClick: () => {\n        this.setState({\n          district: ''\n        }, () => this.state.geo.clearFocuses());\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, \"Reset\"), this.state.subdistricts.length === 0 && this.state.districts.map(d => React.createElement(Card, {\n      onClick: () => {\n        this.setState({\n          district: d.id\n        });\n        d.focus();\n      },\n      onDoubleClick: () => this.getSubdistricts(d),\n      className: district === d.id ? \"bg-primary text-left my-2 shadow-sm\" : \"bg-dark text-left my-2 shadow-sm\",\n      key: d.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, React.createElement(CardBody, {\n      className: \"p-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, d.name))), this.state.neighbors.length === 0 && React.createElement(React.Fragment, null, this.state.subdistricts.length > 0 && React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"d-flex justify-content-between align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"light\",\n      size: \"sm\",\n      onClick: () => {\n        this.setState({\n          district: ''\n        }, () => this.state.geo.clearFocuses()); // this.state.subdistricts[0].district.focus()\n\n        this.setState({\n          subdistricts: [],\n          subdistrict: ''\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, \"Kembali\"), React.createElement(\"p\", {\n      className: \"m-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    }, this.state.subdistricts[0].district.name)), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }), this.state.subdistricts.map(d => React.createElement(Card, {\n      onClick: () => {\n        this.setState({\n          subdistrict: d.id\n        });\n        d.focus();\n      },\n      onDoubleClick: () => this.getNeighbors(d),\n      className: subdistrict === d.id ? \"bg-primary text-left my-2 shadow-sm\" : \"bg-dark text-left my-2 shadow-sm\",\n      key: d.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(CardBody, {\n      className: \"p-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, d.name))))), this.state.neighbors.length > 0 && React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"d-flex justify-content-between align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"light\",\n      size: \"sm\",\n      onClick: () => {\n        this.state.neighbors[0].subdistrict.focus();\n        this.setState({\n          neighbors: [],\n          neighbor: ''\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, \"Kembali\"), React.createElement(\"p\", {\n      className: \"small m-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, \"Kel. \", this.state.neighbors[0].subdistrict.name)), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }), this.state.neighbors.map(d => React.createElement(Card, {\n      onClick: () => {\n        this.setState({\n          neighbor: d.id\n        });\n        d.focus();\n      },\n      className: neighbor === d.id ? \"bg-primary text-left my-2 shadow-sm\" : \"bg-dark text-left my-2 shadow-sm\",\n      key: d.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, React.createElement(CardBody, {\n      className: \"p-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, d.name))))))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/andrewyohanes/Documents/map-manado/src/App.js"],"names":["React","Component","Row","Col","Container","Card","CardBody","Button","ModalWindow","GeoMan","axios","BasemapToggle","FloatWindow","App","state","geo","basemaps","type","data","style","styles","districts","subdistricts","neighbors","district","subdistrict","neighbor","activeBasemaps","sidebar","showBaseMap","zoom","length","map","b","setOpacity","name","show","findIndex","x","push","setState","a","filter","hide","getDistricts","getSubdistricts","d","getNeighbors","n","ping","get","then","resp","console","log","getBasemaps","z","getZoom","click","e","bmap","target","checked","color","clearData","componentDidMount","container","center","Styles","Object","keys","setRegionLabelEvent","ev","properties","on","render","document","title","require","position","top","left","width","height","background","backdropFilter","overflow","value","setStyle","setTimeout","i","clearFocuses","id","focus"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Row, Col, Container, Card, CardBody, Button } from 'reactstrap';\nimport ModalWindow from './components/Modal';\nimport GeoMan from 'geoman-client';\nimport axios from 'axios';\nimport './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport BasemapToggle from './components/BasemapToggle';\nimport FloatWindow from './components/FloatWindow';\n\nclass App extends Component {\n  state = {\n    geo: {},\n    basemaps: [],\n    type: '',\n    data: {\n\n    },\n    style: 'LIGHT',\n    styles: [],\n    districts: [],\n    subdistricts: [],\n    neighbors: [],\n    district: '',\n    subdistrict: '',\n    neighbor: '',\n    activeBasemaps: [],\n    sidebar: false\n  }\n\n  componentDidMount() {\n    let { geo, styles, style } = this.state;\n    // eslint-disable-next-line no-undef\n    geo = new GeoMan('http://10.71.71.71', 8080, {\n      container: 'App',\n      center: [\n        124.842624,\n        1.4794296\n      ],\n      zoom: 15\n    },\n      GeoMan.Styles[style]\n    )\n    styles = Object.keys(GeoMan.Styles);\n    this.setState({ geo, styles }, this.getBasemaps);\n    geo.setRegionLabelEvent('click', 'district', ev => {\n      this.setState({ type: 'kec', data: ev.properties })\n    })\n    geo.setRegionLabelEvent('click', 'subdistrict', ev => {\n      this.setState({ type: 'kel', data: ev.properties })\n    })\n    geo.setRegionLabelEvent('click', 'neighbor', ev => {\n      this.setState({ type: 'rw', data: ev.properties })\n    })\n    geo.map.on('zoom', e => {\n      const zoom = e.target.getZoom();\n      this.showBaseMap(zoom)\n    })\n    this.ping();\n  }\n\n  showBaseMap = zoom => {\n    const { basemaps, activeBasemaps } = this.state;\n    activeBasemaps.length = 0;\n    basemaps.map(b => {\n      b.setOpacity(0.5)\n      if (b.name === 'Bangunan' && zoom > 15) {\n        b.show()\n        if (activeBasemaps.findIndex(x => x === 'Bangunan') === -1) activeBasemaps.push('Bangunan');\n        this.setState({ activeBasemaps });\n      } else if (b.name === 'Sungai' && zoom > 14) {\n        b.show()\n        if (activeBasemaps.findIndex(x => x === 'Sungai') === -1) activeBasemaps.push('Sungai');\n        this.setState({ activeBasemaps });\n      } else {\n        if (zoom < 16 && zoom > 15) {\n          const a = activeBasemaps.filter(b => b !== 'Bangunan');\n          this.setState({ activeBasemaps: a });\n        }\n\n        if (zoom < 14.25 && zoom > 14) {\n          const a = activeBasemaps.filter(b => b !== 'Jalan');\n          this.setState({ activeBasemaps: a });\n        }\n\n        if (zoom < 14 && zoom > 13) {\n          const a = activeBasemaps.filter(b => b !== 'Sungai');\n          this.setState({ activeBasemaps: a });\n        }\n\n        b.hide()\n      }\n\n\n      if (b.name === 'Jalan' && zoom > 14.25) {\n        b.show()\n        if (activeBasemaps.findIndex(x => x === 'Jalan') === -1) activeBasemaps.push('Jalan');\n        this.setState({ activeBasemaps });\n        // } else if (zoom > 13 && zoom <= 15 && activeBasemaps.findIndex(x => x === 'Bangunan') > -1) {\n        //   b.hide()\n        //   console.log('bangunan')\n        //   const a = activeBasemaps.filter(b => b !== 'Bangunan');\n        //   this.setState({ activeBasemaps : a });\n        // } else if (zoom > 14 && zoom <= 14.25 && activeBasemaps.findIndex(x => x === 'Sungai') > -1) {\n        //   b.hide()\n        //   console.log('sungai')\n        //   const a = activeBasemaps.filter(b => b !== 'Sungai');\n        //   this.setState({ activeBasemaps : a });\n        // } else if (zoom > 13 && zoom <= 14 && activeBasemaps.findIndex(x => x === 'Jalan') > -1) {\n        //   b.hide()\n        //   console.log('Jalan')\n        //   const a = activeBasemaps.filter(b => b !== 'Jalan');\n        //   this.setState({ activeBasemaps : a });\n      }\n    })\n  }\n\n  getDistricts = async () => {\n    const { geo } = this.state;\n    const districts = await geo.getDistricts();\n    this.setState({ districts });\n  }\n\n  getSubdistricts = async d => {\n    const subdistricts = await d.getSubdistricts();\n    this.setState({ subdistricts })\n  }\n\n  getNeighbors = async n => {\n    const neighbors = await n.getNeighbors();\n    this.setState({ neighbors })\n  }\n\n  ping = () => {\n    axios.get('http://10.71.71.24:8080/api/index.php/citizens/ping').then(resp => {\n      console.log(resp);\n    })\n  }\n\n  getBasemaps = async () => {\n    const { geo } = this.state;\n    const z = geo.map.getZoom()\n    this.showBaseMap(z)\n    const basemaps = await geo.getBasemaps();\n    this.setState({ basemaps, activeBasemaps: ['Jalan', 'Sungai'] })\n    basemaps.map(b => {\n      if (b.name === 'Jalan' || b.name === 'Sungai') {\n        b.show()\n      }\n      b.setOpacity(0.5)\n    })\n    this.getDistricts();\n  }\n\n  click = (e, bmap) => {\n    if (e.target.checked) {\n      bmap.show();\n    } else {\n      bmap.hide();\n    }\n    bmap.color = 'red'\n  }\n\n  clearData = () => {\n    this.setState({ type: '', data: {} });\n  }\n\n  render() {\n    document.title = \"Manado Map\"\n    const { district, neighbor, subdistrict, basemaps, activeBasemaps } = this.state;\n    return (\n      <div className=\"App\">\n        <BasemapToggle updateBasemaps={activeBasemaps => this.setState({ activeBasemaps })} activeBasemaps={activeBasemaps} basemaps={basemaps} />\n        <div className=\"logo\">\n          <img src={require('./components/logo.png')} alt=\"\" />\n        </div>\n        <div id=\"App\" style={{ position: 'absolute', top: 0, left: 0, width: '100vw', height: '100vh' }}></div>\n        {this.state.type.length > 0 && Object.keys(this.state.data).length > 0 && <FloatWindow onClick={this.clearData} data={this.state.data} type={this.state.type} />}\n        <Container fluid>\n          <Row className=\"justify-content-end text-light\">\n            {!this.state.sidebar &&\n              <Col md=\"3\" className=\"text-right p-2\">\n                <Button color=\"dark\" size=\"sm\" onClick={() => this.setState({ sidebar: true })}>Sidebar</Button>\n              </Col>\n            }\n            {this.state.sidebar && <Col md=\"3\" className=\"vh-100\" style={{ background: 'rgba(0,0,0,0.8)', backdropFilter: 'blur(10px)', overflow: 'auto', height: '100vh' }}>\n              {/* <ul className=\"text-left\">\n                {this.state.basemaps.map(bmap => (<li key={bmap.id}>\n                  <input type=\"checkbox\" onClick={(e) => this.click(e, bmap)} id=\"\" />&nbsp;\n                  {bmap.name}\n                </li>))}\n              </ul>\n              <hr /> */}\n              <div className=\"text-left my-2\">\n                <Button size=\"sm\" className=\"rounded p-1 d-block\" onClick={() => this.setState({ sidebar: false })} color=\"danger\">Tutup</Button>\n              </div>\n              <label htmlFor=\"\" className=\"control-label my-2\">Style Map</label>\n              <select id=\"\" value={this.state.style} onChange={e => {\n                this.setState({ style: e.target.value }, async () => {\n                  await this.state.geo.setStyle(GeoMan.Styles[this.state.style])\n                  const z = this.state.geo.map.getZoom();\n                  setTimeout(() => this.showBaseMap(z), 500)\n                })\n              }} className=\"form-control\">\n                {this.state.styles.map((style, i) => (\n                  <option key={i} value={style}>{style}</option>\n                ))}\n              </select>\n              <hr />\n              <Button color=\"light\" size=\"sm\" onClick={() => {\n                this.setState({ district : '' }, () => this.state.geo.clearFocuses());\n              }}>Reset</Button>\n              {this.state.subdistricts.length === 0 && this.state.districts.map(d => (<Card onClick={() => {\n                this.setState({ district: d.id })\n                d.focus()\n              }} onDoubleClick={() => this.getSubdistricts(d)}\n                className={district === d.id ? \"bg-primary text-left my-2 shadow-sm\" : \"bg-dark text-left my-2 shadow-sm\"} key={d.id}>\n                <CardBody className=\"p-2\">\n                  {d.name}\n                </CardBody>\n              </Card>))}\n              {this.state.neighbors.length === 0 &&\n                <>\n                  {this.state.subdistricts.length > 0 &&\n                    <>\n                      <div className=\"d-flex justify-content-between align-items-center\">\n                        <Button color=\"light\" size=\"sm\" onClick={() => {\n                          this.setState({ district: '' }, () => this.state.geo.clearFocuses());\n                          // this.state.subdistricts[0].district.focus()\n                          this.setState({ subdistricts: [], subdistrict: '' })\n                        }}>Kembali</Button>\n                        <p className=\"m-0\">{this.state.subdistricts[0].district.name}</p>\n                      </div>\n                      <hr />\n                      {this.state.subdistricts.map(d => (<Card onClick={() => {\n                        this.setState({ subdistrict: d.id })\n                        d.focus()\n                      }} onDoubleClick={() => this.getNeighbors(d)}\n                        className={subdistrict === d.id ? \"bg-primary text-left my-2 shadow-sm\" : \"bg-dark text-left my-2 shadow-sm\"} key={d.id}>\n                        <CardBody className=\"p-2\">\n                          {d.name}\n                        </CardBody>\n                      </Card>))}\n                    </>\n                  }\n                </>\n              }\n              {this.state.neighbors.length > 0 &&\n                <>\n                  <div className=\"d-flex justify-content-between align-items-center\">\n                    <Button color=\"light\" size=\"sm\" onClick={() => {\n                      this.state.neighbors[0].subdistrict.focus()\n                      this.setState({ neighbors: [], neighbor: '' })\n                    }}>Kembali</Button>\n                    <p className=\"small m-0\">Kel. {this.state.neighbors[0].subdistrict.name}</p>\n                  </div>\n                  <hr />\n                  {this.state.neighbors.map(d => (<Card onClick={() => {\n                    this.setState({ neighbor: d.id })\n                    d.focus()\n                  }} className={neighbor === d.id ? \"bg-primary text-left my-2 shadow-sm\" : \"bg-dark text-left my-2 shadow-sm\"} key={d.id}>\n                    <CardBody className=\"p-2\">\n                      {d.name}\n                    </CardBody>\n                  </Card>))}\n                </>\n              }\n            </Col>}\n          </Row>\n        </Container>\n        {/* {\n          this.state.type.length > 0 && Object.keys(this.state.data).length > 0 &&\n          <ModalWindow type={this.state.type} onClick={this.clearData} data={this.state.data} />\n        } */}\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}